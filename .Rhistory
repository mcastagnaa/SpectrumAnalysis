tapply(SpecRetsMolten[,-1], variable, sd)
View(SpecRetsMolten)
head(SpecRetsMolten[,-1])
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecRetsMolten <- subset(SpecRetsMolten, select = c("variable", "value"))
# SpecVol <- ddply(SpecRetsMolten[,c("variable", "value")], ~ variable, summarize,
#                  mean = round(mean(value), 2),
#                  sd = round(sd(value), 2))
ddply(SpecRetsMolten, ~ variable, mean)
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecRetsMolten <- subset(SpecRetsMolten, select = c("variable", "value"))
# SpecVol <- ddply(SpecRetsMolten[,c("variable", "value")], ~ variable, summarize,
#                  mean = round(mean(value), 2),
#                  sd = round(sd(value), 2))
ddply(SpecRetsMolten, ~ variable, nrow)
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecRetsMolten <- subset(SpecRetsMolten, select = c("variable", "value"))
# SpecVol <- ddply(SpecRetsMolten[,c("variable", "value")], ~ variable, summarize,
#                  mean = round(mean(value), 2),
#                  sd = round(sd(value), 2))
ddply(SpecRetsMolten, ~ variable, min)
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecRetsMolten <- subset(SpecRetsMolten, select = c("variable", "value"))
# SpecVol <- ddply(SpecRetsMolten[,c("variable", "value")], ~ variable, summarize,
#                  mean = round(mean(value), 2),
#                  sd = round(sd(value), 2))
ddply(SpecRetsMolten, ~ variable)
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecRetsMolten <- subset(SpecRetsMolten, select = c("variable", "value"))
# SpecVol <- ddply(SpecRetsMolten[,c("variable", "value")], ~ variable, summarize,
#                  mean = round(mean(value), 2),
#                  sd = round(sd(value), 2))
any(is.na(ddply(SpecRetsMolten, ~ variable))
)
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecRetsMolten <- subset(SpecRetsMolten, select = c("variable", "value"))
# SpecVol <- ddply(SpecRetsMolten[,c("variable", "value")], ~ variable, summarize,
#                  mean = round(mean(value), 2),
#                  sd = round(sd(value), 2))
any(is.na(SpecRetsMolten, ~ variable))
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecRetsMolten <- subset(SpecRetsMolten, select = c("variable", "value"))
# SpecVol <- ddply(SpecRetsMolten[,c("variable", "value")], ~ variable, summarize,
#                  mean = round(mean(value), 2),
#                  sd = round(sd(value), 2))
any(is.na(SpecRetsMolten))
View(SpecRetsMolten)
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecRetsMolten <- subset(SpecRetsMolten, select = c("variable", "value"))
rownames(SpecRetsMolten) <- c("Fund", "Return")
SpecVol <- ddply(SpecRetsMolten, ~ Fund, nrow)
View(SpecRetsMolten)
View(SpecRetsMolten)
View(SpecRetsMolten)
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecRetsMolten <- subset(SpecRetsMolten, select = c("variable", "value"))
colnames(SpecRetsMolten) <- c("Fund", "Return")
SpecVol <- ddply(SpecRetsMolten, ~ Fund, nrow)
View(SpecVol)
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecRetsMolten <- subset(SpecRetsMolten, select = c("variable", "value"))
colnames(SpecRetsMolten) <- c("Fund", "Return")
SpecVol <- ddply(SpecRetsMolten, ~ Fund, mean)
ddply(SpecRetsMolten, "Fund", mean)
ddply(SpecRetsMolten, "Fund", "mean")
ddply(SpecRetsMolten, Fund, mean)
ddply(SpecRetsMolten, "Fund", mean)
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecRetsMolten <- subset(SpecRetsMolten, select = c("variable", "value"))
colnames(SpecRetsMolten) <- c("Fund", "Return")
SpecVol <- ddply(SpecRetsMolten, .(Fund), mean)
dfTest <- as.data.frame(label = as.character(rep(1:3, c(33,33,33))), val = runif(99, min = -100, max = 100))
str(dfTest)
ddply(dfTest, .label, nrow)
as.character(rep(1:3, c(33,33,33)))
val = runif(99, min = -100, max = 100)
runif(99, min = -100, max = 100)
dfTest <- data.frame(label = as.character(rep(1:3, c(33,33,33))),
val = runif(99, min = -100, max = 100))
str(dfTest)
ddply(dfTest, .label, nrow)
dfTest <- data.frame(label = as.character(rep(1:3, c(33,33,33))),
val = runif(99, min = -100, max = 100))
str(dfTest)
ddply(dfTest, .(label), nrow)
ddply(dfTest, .(label), mean)
source('~/.active-rstudio-document', echo=TRUE)
summary(SpecRetsMolten)
tapply(SpecRetsMolten$Return, SpecRetsMolten$Fund, sd)
tapply(SpecRetsMolten$Return, SpecRetsMolten$Fund, formula(x) sd(x)*sqrt(252))
tapply(SpecRetsMolten$Return, SpecRetsMolten$Fund, formula(x) StdDev.annualized(x, scale=252))
tapply(SpecRetsMolten$Return, SpecRetsMolten$Fund, FUN = StdDev.annualized(x, scale=252))
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecRetsMolten <- subset(SpecRetsMolten, select = c("variable", "value"))
colnames(SpecRetsMolten) <- c("Fund", "Return")
SpecVol <- ddply(SpecRetsMolten, ~ Fund, function(x) StdDev.annualized(x, scale = 252))
3*3
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecRetsMolten <- subset(SpecRetsMolten, select = c("variable", "value"))
colnames(SpecRetsMolten) <- c("Fund", "Return")
SpecVol <- ddply(SpecRetsMolten, ~ Fund, function(x) sd(x) * sqrt(252))
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecRetsMolten <- subset(SpecRetsMolten, select = c("variable", "value"))
SpecRetsMolten$Returns <- SpecRetsMolten$Returns * 100
colnames(SpecRetsMolten) <- c("Fund", "Return")
SpecVol <- ddply(SpecRetsMolten, ~ Fund, function(x) sd(x) * sqrt(252))
View(SpecRetsMolten)
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecRetsMolten <- subset(SpecRetsMolten, select = c("variable", "value"))
SpecRetsMolten$Returns <- SpecRetsMolten$Returns %*% 100
colnames(SpecRetsMolten) <- c("Fund", "Return")
SpecVol <- ddply(SpecRetsMolten, ~ Fund, function(x) sd(x) * sqrt(252))
SpecRetsMolten$Returns <- SpecRetsMolten$Returns * 100
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecRetsMolten <- subset(SpecRetsMolten, select = c("variable", "value"))
colnames(SpecRetsMolten) <- c("Fund", "Return")
SpecRetsMolten$Return <- SpecRetsMolten$Return * 100
SpecVol <- ddply(SpecRetsMolten, ~ Fund, function(x) sd(x) * sqrt(252))
summary(SpecRetsMolten$Return)
sd(SpecRetsMolten$Return)
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecRetsMolten <- subset(SpecRetsMolten, select = c("variable", "value"))
colnames(SpecRetsMolten) <- c("Fund", "Return")
#SpecRetsMolten$Return <- SpecRetsMolten$Return * 100
options(error=recover)
SpecVol <- ddply(SpecRetsMolten, ~ Fund, function(x) sd(x) * sqrt(252))
expr
envir
0
dfTest <- data.frame(label = as.character(rep(1:3, c(33,33,33))),
val = runif(99, min = -100, max = 100))
str(dfTest)
ddply(dfTest, ~label, mean)
dfTest <- data.frame(label = as.character(rep(1:3, c(33,33,33))),
val = runif(99, min = -100, max = 100))
ddply(dfTest, ~val, mean)
val = runif(99, min = -100, max = 100))
dfTest <- data.frame(label = as.character(rep(1:3, c(33,33,33))),
val = runif(99, min = -100, max = 100))
ddply(dfTest, ~label, nrow)
ddply(dfTest, ~label, nrow)
ddply(dfTest, ~label, mean)
ddply(dfTest, ~label, colwise(mean))
tapply(dfTest$val, dfTest$label,mean)
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecRetsMolten <- subset(SpecRetsMolten, select = c("variable", "value"))
colnames(SpecRetsMolten) <- c("Fund", "Return")
#SpecRetsMolten$Return <- SpecRetsMolten$Return * 100
#options(error=recover)
SpecVol <- ddply(SpecRetsMolten, ~ Fund, colwise(sd))
View(SpecVol)
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
ddply(SpecRetsMolten, ~ variable, colwise(sd))
SpecRetsMolten <- subset(SpecRetsMolten, select = c("variable", "value"))
colnames(SpecRetsMolten) <- c("Fund", "Return")
#SpecRetsMolten$Return <- SpecRetsMolten$Return * 100
#options(error=recover)
ddply(SpecRetsMolten, ~ Fund, colwise(sd))
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecVol <- ddply(SpecRetsMolten, ~ variable, colwise(sd))
SpecVol <- ddply(SpecRetsMolten, ~ variable,
colwise(formula(x) sd(x) * sqrt(252)))
cSpecVol <- subset(SpecRetsMolten, select = c("variable", "value"))
colnames(SpecRetsMolten) <- c("Fund", "Return")
#SpecRetsMolten$Return <- SpecRetsMolten$Return * 100
#options(error=recover)
ddply(SpecRetsMolten, ~ Fund, colwise(sd))
options(error=NULL)
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecVol <- ddply(SpecRetsMolten, ~ variable, colwise(sd))
SpecVol <- ddply(SpecRetsMolten, ~ variable,
colwise(formula(x) sd(x) * sqrt(252)))
cSpecVol <- subset(SpecRetsMolten, select = c("variable", "value"))
colnames(SpecRetsMolten) <- c("Fund", "Return")
#SpecRetsMolten$Return <- SpecRetsMolten$Return * 100
#options(error=recover)
ddply(SpecRetsMolten, ~ Fund, colwise(sd))
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecVol <- ddply(SpecRetsMolten, ~ variable, colwise(sd))
SpecVol <- ddply(SpecRetsMolten, ~ variable,
colwise(formula(x) {sd(x) * sqrt(252)}))
cSpecVol <- subset(SpecRetsMolten, select = c("variable", "value"))
colnames(SpecRetsMolten) <- c("Fund", "Return")
#SpecRetsMolten$Return <- SpecRetsMolten$Return * 100
#options(error=recover)
ddply(SpecRetsMolten, ~ Fund, colwise(sd))
View(SpecVol)
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecVol <- ddply(SpecRetsMolten, ~ variable, colwise(sd))
colnames(SpecVol) <- c("Fund", "StDevAnn")
SpecVol$StDevAnn <- SpecVol$StDevAnn * sqrt(252)
subset(SpecVol, select = c("Fund", "StDevAnn"))
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecVol <- ddply(SpecRetsMolten, ~ variable, colwise(sd))
colnames(SpecVol) <- c("Fund", "Date", "StDevAnn")
SpecVol$StDevAnn <- SpecVol$StDevAnn * sqrt(252)
subset(SpecVol, select = c("Fund", "StDevAnn"))
View(SpecTgtVol)
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecVol <- ddply(SpecRetsMolten, ~ variable, colwise(sd))
colnames(SpecVol) <- c("Fund", "Date", "StDev3yAnn")
SpecVol$StDevAnn <- SpecVol$StDevAnn * sqrt(252)
SpecVol <- subset(SpecVol, select = c("Fund", "StDev3yAnn"))
SpecTgTVol <- merge(SpecTgTVol, SpecVol, by = "Fund")
SpecTgtVol[c("SIDec14", "StDev3yAnn", "Min", "Max", "DistFromMid")]
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecVol <- ddply(SpecRetsMolten, ~ variable, colwise(sd))
colnames(SpecVol) <- c("Fund", "Date", "StDev3yAnn")
SpecVol$StDev3yAnn <- SpecVol$StDev3yAnn * sqrt(252)
SpecVol <- subset(SpecVol, select = c("Fund", "StDev3yAnn"))
SpecTgTVol <- merge(SpecTgTVol, SpecVol, by = "Fund")
SpecTgtVol[c("SIDec14", "StDev3yAnn", "Min", "Max", "DistFromMid")]
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecVol <- ddply(SpecRetsMolten, ~ variable, colwise(sd))
colnames(SpecVol) <- c("Fund", "Date", "StDev3yAnn")
SpecVol$StDev3yAnn <- SpecVol$StDev3yAnn * sqrt(252)
SpecVol <- subset(SpecVol, select = c("Fund", "StDev3yAnn"))
SpecTgtVol <- merge(SpecTgtVol, SpecVol, by = "Fund")
SpecTgtVol[c("SIDec14", "StDev3yAnn", "Min", "Max", "DistFromMid")]
PeriodPast <- (as.Date("2014/12/31")-as.Date("2008/04/28"))/365
PeriodLeft <- (as.Date("2018/04/28")-as.Date("2014/12/31"))/365
SpecTgtVol <- data.frame(Fund = c("Spec3", "Spec4","Spec5",
"Spec6","Spec7","Spec8"),
Min = c(0.0575, 0.0786, 0.0957, 0.1129, 0.13, 0.1472),
Max = c(0.0785, 0.0956, 0.1128, 0.1299, 0.1471, 0.1643),
SIDec14 = c(0.0496, 0.0621, 0.0758, 0.0897, 0.1049, 0.1233))
rownames(SpecTgtVol) <- SpecTgtVol$Fund
SpecTgtVol$DistFromMid <- with(SpecTgtVol,
SIDec14 - (Min + (Max-Min)/2))
SpecTgtVol$DistFromMidBps <- with(SpecTgtVol,
round((SIDec14 - (Min + (Max-Min)/2))*100,0))
SpecTgtVol[c("SIDec14", "Min", "Max", "DistFromMid", "DistFromMidBps")]
PeriodPast <- (as.Date("2014/12/31")-as.Date("2008/04/28"))/365
PeriodLeft <- (as.Date("2018/04/28")-as.Date("2014/12/31"))/365
SpecTgtVol <- data.frame(Fund = c("Spec3", "Spec4","Spec5",
"Spec6","Spec7","Spec8"),
Min = c(0.0575, 0.0786, 0.0957, 0.1129, 0.13, 0.1472),
Max = c(0.0785, 0.0956, 0.1128, 0.1299, 0.1471, 0.1643),
SIDec14 = c(0.0496, 0.0621, 0.0758, 0.0897, 0.1049, 0.1233))
rownames(SpecTgtVol) <- SpecTgtVol$Fund
SpecTgtVol$DistFromMid <- with(SpecTgtVol,
SIDec14 - (Min + (Max-Min)/2))
SpecTgtVol$DistFromMidBps <- with(SpecTgtVol,
round((SIDec14 - (Min + (Max-Min)/2))*10000,0))
SpecTgtVol[c("SIDec14", "Min", "Max", "DistFromMid", "DistFromMidBps")]
PeriodPast <- (as.Date("2014/12/31")-as.Date("2008/04/28"))/365
PeriodLeft <- (as.Date("2018/04/28")-as.Date("2014/12/31"))/365
SpecTgtVol <- data.frame(Fund = c("Spec3", "Spec4","Spec5",
"Spec6","Spec7","Spec8"),
Min = c(0.0575, 0.0786, 0.0957, 0.1129, 0.13, 0.1472),
Max = c(0.0785, 0.0956, 0.1128, 0.1299, 0.1471, 0.1643),
SIDec14 = c(0.0496, 0.0621, 0.0758, 0.0897, 0.1049, 0.1233))
rownames(SpecTgtVol) <- SpecTgtVol$Fund
SpecTgtVol$Mid <- with(SpecTgtVol,
(Min + (Max-Min)/2))
SpecTgtVol$DistFromMid <- with(SpecTgtVol,
SIDec14 - Mid))
SpecTgtVol$DistFromMidBps <- with(SpecTgtVol,
round((SIDec14 - (Min + (Max-Min)/2))*10000,0))
SpecTgtVol[c("SIDec14", "Mid", "DistFromMid", "DistFromMidBps")]
PeriodPast <- (as.Date("2014/12/31")-as.Date("2008/04/28"))/365
PeriodLeft <- (as.Date("2018/04/28")-as.Date("2014/12/31"))/365
SpecTgtVol <- data.frame(Fund = c("Spec3", "Spec4","Spec5",
"Spec6","Spec7","Spec8"),
Min = c(0.0575, 0.0786, 0.0957, 0.1129, 0.13, 0.1472),
Max = c(0.0785, 0.0956, 0.1128, 0.1299, 0.1471, 0.1643),
SIDec14 = c(0.0496, 0.0621, 0.0758, 0.0897, 0.1049, 0.1233))
rownames(SpecTgtVol) <- SpecTgtVol$Fund
SpecTgtVol$Mid <- with(SpecTgtVol,
(Min + (Max-Min)/2))
SpecTgtVol$DistFromMid <- with(SpecTgtVol,
SIDec14 - Mid)
SpecTgtVol$DistFromMidBps <- with(SpecTgtVol,
round(DistFromMid*10000,0))
SpecTgtVol[c("SIDec14", "Mid", "DistFromMid", "DistFromMidBps")]
SpecTgtVol$NextPerVol <- with(SpecTgtVol,
sqrt((10*Mid^2 - PeriodPast * SIDec14^2)/PeriodLeft)
)
SpecTgtVol[c("SIDec14", "Mid", "NexpPerVol", "DistFromMidBps")]
PeriodPast <- (as.Date("2014/12/31")-as.Date("2008/04/28"))/365
PeriodLeft <- (as.Date("2018/04/28")-as.Date("2014/12/31"))/365
SpecTgtVol <- data.frame(Fund = c("Spec3", "Spec4","Spec5",
"Spec6","Spec7","Spec8"),
Min = c(0.0575, 0.0786, 0.0957, 0.1129, 0.13, 0.1472),
Max = c(0.0785, 0.0956, 0.1128, 0.1299, 0.1471, 0.1643),
SIDec14 = c(0.0496, 0.0621, 0.0758, 0.0897, 0.1049, 0.1233))
rownames(SpecTgtVol) <- SpecTgtVol$Fund
SpecTgtVol$Mid <- with(SpecTgtVol,
(Min + (Max-Min)/2))
SpecTgtVol$DistFromMid <- with(SpecTgtVol,
SIDec14 - Mid)
SpecTgtVol$DistFromMidBps <- with(SpecTgtVol,
round(DistFromMid*10000,0))
SpecTgtVol[c("SIDec14", "Mid", "DistFromMid", "DistFromMidBps")]
PeriodLeft
PeriodPast <- as.numeric(as.Date("2014/12/31")-as.Date("2008/04/28"))/365)
PeriodLeft <- as.numeric(as.Date("2018/04/28")-as.Date("2014/12/31"))/365)
SpecTgtVol <- data.frame(Fund = c("Spec3", "Spec4","Spec5",
"Spec6","Spec7","Spec8"),
Min = c(0.0575, 0.0786, 0.0957, 0.1129, 0.13, 0.1472),
Max = c(0.0785, 0.0956, 0.1128, 0.1299, 0.1471, 0.1643),
SIDec14 = c(0.0496, 0.0621, 0.0758, 0.0897, 0.1049, 0.1233))
rownames(SpecTgtVol) <- SpecTgtVol$Fund
SpecTgtVol$Mid <- with(SpecTgtVol,
(Min + (Max-Min)/2))
SpecTgtVol$DistFromMid <- with(SpecTgtVol,
SIDec14 - Mid)
SpecTgtVol$DistFromMidBps <- with(SpecTgtVol,
round(DistFromMid*10000,0))
SpecTgtVol[c("SIDec14", "Mid", "DistFromMid", "DistFromMidBps")]
PeriodPast <- as.numeric((as.Date("2014/12/31")-as.Date("2008/04/28"))/365)
PeriodLeft <- as.numeric((as.Date("2018/04/28")-as.Date("2014/12/31"))/365)
SpecTgtVol <- data.frame(Fund = c("Spec3", "Spec4","Spec5",
"Spec6","Spec7","Spec8"),
Min = c(0.0575, 0.0786, 0.0957, 0.1129, 0.13, 0.1472),
Max = c(0.0785, 0.0956, 0.1128, 0.1299, 0.1471, 0.1643),
SIDec14 = c(0.0496, 0.0621, 0.0758, 0.0897, 0.1049, 0.1233))
rownames(SpecTgtVol) <- SpecTgtVol$Fund
SpecTgtVol$Mid <- with(SpecTgtVol,
(Min + (Max-Min)/2))
SpecTgtVol$DistFromMid <- with(SpecTgtVol,
SIDec14 - Mid)
SpecTgtVol$DistFromMidBps <- with(SpecTgtVol,
round(DistFromMid*10000,0))
SpecTgtVol[c("SIDec14", "Mid", "DistFromMid", "DistFromMidBps")]
SpecTgtVol$NextPerVol <- with(SpecTgtVol,
sqrt((10*Mid^2 - PeriodPast * SIDec14^2)/PeriodLeft)
)
SpecTgtVol[c("SIDec14", "Mid", "NexpPerVol", "DistFromMidBps")]
SpecTgtVol$NextPerVol <- with(SpecTgtVol,
sqrt((10*Mid^2 - PeriodPast * SIDec14^2)/PeriodLeft)
)
SpecTgtVol[c("SIDec14", "Mid", "NextPerVol", "DistFromMidBps")]
SpecTgtVol$NextPerVol <- with(SpecTgtVol,
sqrt((10*Mid^2 - PeriodPast * SIDec14^2)/PeriodLeft)
)
SpecTgtVol$JumpNeeded <-  with(SpecTgtVol,
round((NextPerVol-SIDec14)*10000,0)
)
SpecTgtVol[c("SIDec14", "Mid", "NextPerVol", "JumpNeeded")]
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecVol <- ddply(SpecRetsMolten, ~ variable, colwise(sd))
colnames(SpecVol) <- c("Fund", "Date", "StDev3yAnn")
SpecVol$StDev3yAnn <- SpecVol$StDev3yAnn * sqrt(252)
SpecVol <- subset(SpecVol, select = c("Fund", "StDev3yAnn"))
SpecTgtVol <- merge(SpecTgtVol, SpecVol, by = "Fund")
SpecTgtVol[c("SIDec14", "StDev3yAnn")]
paste0(round(SDonEXPVix[[1]][3]*0.01*10000,1), "%")
paste0(round(500/SDonEXPVix[[1]][3]*100,1), "%")
paste0(round(0.05/SDonEXPVix[[1]][3]*100,1), "%")
paste0(round((0.05/sqrt(252))/SDonEXPVix[[1]][3]*100,1), "%")
View(RegSet)
ggplot(RegSet, aes(x=Exposure, y = SdRet)) +
geom_smooth(method="lm") +
geom_point(shape=1) +
labs(x = "Eq.Funds exposure", y = "StDev of returns") +
ggtitle(paste("Rolling", RollingObs, "observations"))
View(RegSet)
View(CombByDate)
View(EquityExp)
View(FundsExp)
View(RollFuExpAv)
View(FundsExp)
colMeans(FundsExp)
colMeans(FundsExp[,-1])
colMeans(FundsExp[,-1], na.rm=TRUE)
round(colMeans(FundsExp[,-1], na.rm=TRUE),2)
round(colMeans(FundsExp[,-1], na.rm=TRUE),2)*100
paste0(round(colMeans(FundsExp[,-1], na.rm=TRUE),2)*100,"%")
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecVol <- ddply(SpecRetsMolten, ~ variable, colwise(sd))
colnames(SpecVol) <- c("Fund", "Date", "StDev3yAnn")
SpecVol$StDev3yAnn <- SpecVol$StDev3yAnn * sqrt(252)
SpecVol <- subset(SpecVol, select = c("Fund", "StDev3yAnn"))
SpecTgtVol <- merge(SpecTgtVol, SpecVol, by = "Fund")
SpecTgtVol[c("SIDec14", "StDev3yAnn")]
source('~/.active-rstudio-document', echo=TRUE)
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecVol <- ddply(SpecRetsMolten, ~ variable, colwise(sd))
colnames(SpecVol) <- c("Fund", "Date", "StDev3yAnn")
SpecVol$StDev3yAnn <- SpecVol$StDev3yAnn * sqrt(252)
SpecVol <- subset(SpecVol, select = c("Fund", "StDev3yAnn"))
SpecTgtVol <- merge(SpecTgtVol, SpecVol, by = "Fund")
SpecTgtVol[c("SIDec14", "StDev3yAnn")]
View(SpecTgtVol)
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecVol <- ddply(SpecRetsMolten, ~ variable, colwise(sd))
colnames(SpecVol) <- c("Fund", "Date", "StDev3yAnn")
SpecVol$StDev3yAnn <- SpecVol$StDev3yAnn * sqrt(252)
SpecVol <- subset(SpecVol, select = c("Fund", "StDev3yAnn"))
SpecTgtVol <- merge(SpecTgtVol, SpecVol, by = "Fund")
SpecTgtVol[c("SIDec14", "StDev3yAnn.x")]
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecVol <- ddply(SpecRetsMolten, ~ variable, colwise(sd))
colnames(SpecVol) <- c("Fund", "Date", "StDev3yAnn")
SpecVol$StDev3yAnn <- SpecVol$StDev3yAnn * sqrt(252)
SpecVol <- subset(SpecVol, select = c("Fund", "StDev3yAnn"))
SpecTgtVol <- merge(SpecTgtVol, SpecVol, by = "Fund")
SpecTgtVol[c("SIDec14", "StDev3yAnn.x")]
View(SpecTgtVol)
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecVol <- ddply(SpecRetsMolten, ~ variable, colwise(sd))
colnames(SpecVol) <- c("Fund", "Date", "StDev3yAnn")
SpecVol$StDev3yAnn <- SpecVol$StDev3yAnn * sqrt(252)
SpecVol <- subset(SpecVol, select = c("Fund", "StDev3yAnn"))
#SpecTgtVol <- merge(SpecTgtVol, SpecVol, by = "Fund")
#SpecTgtVol[c("SIDec14", "StDev3yAnn.x")]
View(SpecVol)
PeriodPast <- as.numeric((as.Date("2014/12/31")-as.Date("2008/04/28"))/365)
PeriodLeft <- as.numeric((as.Date("2018/04/28")-as.Date("2014/12/31"))/365)
SpecTgtVol <- data.frame(Fund = c("Spec3", "Spec4","Spec5",
"Spec6","Spec7","Spec8"),
Min = c(0.0575, 0.0786, 0.0957, 0.1129, 0.13, 0.1472),
Max = c(0.0785, 0.0956, 0.1128, 0.1299, 0.1471, 0.1643),
SIDec14 = c(0.0496, 0.0621, 0.0758, 0.0897, 0.1049, 0.1233))
rownames(SpecTgtVol) <- SpecTgtVol$Fund
SpecTgtVol$Mid <- with(SpecTgtVol,
(Min + (Max-Min)/2))
SpecTgtVol$DistFromMid <- with(SpecTgtVol,
SIDec14 - Mid)
SpecTgtVol$DistFromMidBps <- with(SpecTgtVol,
round(DistFromMid*10000,0))
SpecTgtVol[c("SIDec14", "Mid", "DistFromMid", "DistFromMidBps")]
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecVol <- ddply(SpecRetsMolten, ~ variable, colwise(sd))
colnames(SpecVol) <- c("Fund", "Date", "StDev3yAnn")
SpecVol$StDev3yAnn <- SpecVol$StDev3yAnn * sqrt(252)
SpecVol <- subset(SpecVol, select = c("Fund", "StDev3yAnn"))
#SpecTgtVol <- merge(SpecTgtVol, SpecVol, by = "Fund")
#SpecTgtVol[c("SIDec14", "StDev3yAnn.x")]
View(SpecTgtVol)
colnames(Returns) <- c("Date", "Spec3", "Spec4", "Spec5",
"Spec6", "Spec7", "Spec8", "VIX")
SpecRetsMolten <- melt(Returns[,-8], id.vars = "Date")
SpecVol <- ddply(SpecRetsMolten, ~ variable, colwise(sd))
colnames(SpecVol) <- c("Fund", "Date", "StDev3yAnn")
SpecVol$StDev3yAnn <- SpecVol$StDev3yAnn * sqrt(252)
SpecVol <- subset(SpecVol, select = c("Fund", "StDev3yAnn"))
SpecTgtVol <- merge(SpecTgtVol, SpecVol, by = "Fund")
#SpecTgtVol[c("SIDec14", "StDev3yAnn.x")]
View(SpecTgtVol)
SpecTgtVol[c("SIDec14", "StDev3yAnn.x")]
SpecTgtVol[c("SIDec14", "StDev3yAnn")]
SpecTgtVol[c("Fund","SIDec14", "StDev3yAnn")]
